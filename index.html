<html>
    <head>
        <style>
          .row{
            display: flex;
          }
          .cell{
              border:solid 1px black;
              width: 3rem;
              height: 3rem;
          }
        </style>
    </head>
    <body>
        <h1>hello world</h1>
        <div id=gridContainer></div>
        <script>

        const grid=document.querySelector('#gridContainer');
        const buildTable = (n)=>{
            const rows=[];
            for(let i=0;i<n;i++){
             const row=[];
            for(let j=0;j<n;j++){
                 row.push('')
             }
             rows.push(row)
            }
            return rows;
        }
        const data=buildTable(5);
        //console.log(buildTable(5));
        const generateHTML=(rows)=>{
        return rows.map(row => `<div class="row">${row.map(cell=>`<div class='cell'>${ cell}</div>`).join('')}</div>`).join('');}

        grid.addEventListener('click', (ev)=>{
          const cell = ev.target;
          const row = cell.parentNode;
          const cdx=[...row.children].indexOf(cell);
          const rdx=[...row.parentNode.children].indexOf(row);
          data[rdx][cdx]=`<div style=background-color: red></div>`
          console.log(data)
          render();
        });
        console.log(data);
        /*grid.innerHTML='<h2>Hello world 2</h2>'*/
        render=()=>{
            const html=generateHTML(data);
            grid.innerHTML=html;
        }
        render()
        </script>
    </body>
</html>
